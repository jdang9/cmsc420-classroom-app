function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){var e;y.Users.showMe(function(t){if(t.success){var i=t.users[0];e=i.id}else alert("Error:\n"+(t.error&&t.message||JSON.stringify(t)))}),Titanium.Media.openPhotoGallery({success:function(t){t.mediaType==Ti.Media.MEDIA_TYPE_PHOTO&&(m=t.media,alert(m),y.Photos.create({photo:m,name:"profile"+e,user_id:e},function(e){if(e.success){var t=e.photos[0];alert("Success:\nid: "+t.id+"\nfilename: "+t.filename+"\nsize: "+t.size,"updated_at: "+t.updated_at)}else alert("Error:\n"+(e.error&&e.message||JSON.stringify(e))),alert("Code: "+e.code)}))},cancel:function(){},error:function(e){alert("ERROR: "+e)},mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO]})}function t(){var e;y.Users.showMe(function(t){if(t.success){var i=t.users[0];e=i.id}else alert("Error:\n"+(t.error&&t.message||JSON.stringify(t)))}),y.Photos.search({user_id:e},function(e){if(e.success){for(var t=0;t<e.photos.length;t++){var i=e.photos[t];h=i.urls.original}alert(h);var r=c.UI.create("ImageView",{height:"100%",id:"pPicture",image:h,layout:"vertical"});c.profilePicture.add(r)}else{alert("Error:\n"+(e.error&&e.message||JSON.stringify(e))),h="/images/avatar.jpeg";var n=Ti.UI.createImageView({width:"200px",height:"200px",image:h});c.profilePicture.add(n)}})}function i(){var t=c.UI.create("View",{classes:["button"],id:"uploadBtn"}),i=c.UI.create("Label",{text:"Upload Photo",classes:["buttonLabel"],id:"Lbl"});t.add(i),c.uploadPictureButton.add(t),t.addEventListener("click",function(){e()})}function r(e,t,i){var r="https://api.mongolab.com/api/1/databases/"+e+"/collections/"+t+"?apiKey=EGS_uas-aVUXdr5G2lvujnOtuJytdvPE",n=Ti.Network.createHTTPClient({onload:function(){Ti.API.info("Received text: "+JSON.parse(this.responseText)),alert("success 1")},onerror:function(e){Ti.API.debug(e.error),alert(e.error)},timeout:15e3});n.open("POST",r,!1);var o=JSON.stringify(i);n.setRequestHeader("Content-Type","application/json"),n.send(o)}function n(){y.Users.showMe(function(e){if(e.success){var t=e.users[0];p=t.username,f=t.first_name,w=t.last_name,v=t.email,g=t.id,d=f+" lived the life others wish they had.",userData={_id:g,username:p,firstname:f,lastname:w,email:v,userID:g,userBio:d},r("mobileapp","data",userData);var i,n="mobileapp",o="data",a="/"+g+"?",s="https://api.mongolab.com/api/1/databases/"+n+"/collections/"+o+a+"apiKey=EGS_uas-aVUXdr5G2lvujnOtuJytdvPE",l=Ti.Network.createHTTPClient();l.onload=function(){i=JSON.parse(this.responseText),alert(i)},l.open("GET",s),l.send(),c.username.text="Username: "+t.username,c.firstname.text="First Name: "+t.first_name,c.lastname.text="Last Name: "+t.last_name,c.email.text="Email: "+t.email,c.userID.text="User ID: "+t.id}else alert("Error:\n"+(e.error&&e.message||JSON.stringify(e)))})}function o(){n(),t(),i()}function a(){var e=c.UI.create("View",{classes:["button"],id:"btnRight"}),t=c.UI.create("Label",{text:"Edit Bio",classes:["buttonLabel"],id:"Lbl"});e.add(t),c.specificProfile.add(e),e.addEventListener("click",function(){var e=Alloy.createController("bio").getView();e.open()})}function s(){y.Users.showMe(function(e){if(e.success){var t=e.users[0],i=Ti.UI.createTableViewRow({title:t.custom_fields.userBio,textAlign:"left",font:{fontSize:14},textColor:"white"});c.bioText.appendRow(i)}else alert("Error:\n"+(e.error&&e.message||JSON.stringify(e)))})}function l(){var e="http://jamesfreund.com/mobile/getThings.php",t=Ti.Network.createHTTPClient({onload:function(){var e=JSON.parse(this.responseText);if(e.courses)for(var t=0;t<e.courses.length;t++){var i=Ti.UI.createTableViewRow({textAlign:"center",border:10,borderColor:"red",id:e.courses[t].id}),r=Ti.UI.createView({layout:"horizontal"}),n=Ti.UI.createLabel({text:" "+e.courses[t].courseNumber,width:"15%",height:"auto",font:{fontSize:20}}),o=Ti.UI.createLabel({text:"|	"+e.courses[t].courseName,width:"85%",height:"auto",font:{fontSize:20}});r.add(n),r.add(o),i.add(r),c.courseList.appendRow(i)}},onerror:function(e){Ti.API.debug(e.error),alert("error")},timeout:55e3});t.open("GET",e,!0),t.send()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="win2",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var c=this,u={};c.__views.win2=Ti.UI.createWindow({backgroundColor:"#141925",color:"#fff",id:"win2"}),c.__views.win2&&c.addTopLevelView(c.__views.win2),c.__views.profileContainer=Ti.UI.createView({top:0,width:Ti.UI.SIZE,height:Ti.UI.SIZE,id:"profileContainer"}),c.__views.win2.add(c.__views.profileContainer),c.__views.profileHorizontal=Ti.UI.createView({top:0,width:Ti.UI.SIZE,height:"50%",layout:"horizontal",id:"profileHorizontal"}),c.__views.profileContainer.add(c.__views.profileHorizontal),c.__views.profileImage=Ti.UI.createView({height:"100%",width:"50%",pd:"10",layout:"vertical",id:"profileImage"}),c.__views.profileHorizontal.add(c.__views.profileImage),c.__views.__alloyId25=Ti.UI.createView({height:"15%",width:Ti.UI.FILL,id:"__alloyId25"}),c.__views.profileImage.add(c.__views.__alloyId25),c.__views.__alloyId26=Ti.UI.createLabel({color:"#fff",height:25,font:{fontSize:16},shadowOffset:1,shadowColor:"#363636",width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Profile Image",id:"__alloyId26"}),c.__views.__alloyId25.add(c.__views.__alloyId26),c.__views.profilePicture=Ti.UI.createView({height:"65%",width:"100%",layout:"vertical",id:"profilePicture"}),c.__views.profileImage.add(c.__views.profilePicture),c.__views.uploadPictureButton=Ti.UI.createView({height:"20%",width:"100%",layout:"vertical",id:"uploadPictureButton"}),c.__views.profileImage.add(c.__views.uploadPictureButton),c.__views.profileBasic=Ti.UI.createView({height:"100%",width:"50%",pd:"10",layout:"vertical",id:"profileBasic"}),c.__views.profileHorizontal.add(c.__views.profileBasic),c.__views.__alloyId27=Ti.UI.createView({height:"15%",width:Ti.UI.FILL,id:"__alloyId27"}),c.__views.profileBasic.add(c.__views.__alloyId27),c.__views.__alloyId28=Ti.UI.createLabel({color:"#fff",height:25,font:{fontSize:16},shadowOffset:1,shadowColor:"#363636",width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Basic Info",id:"__alloyId28"}),c.__views.__alloyId27.add(c.__views.__alloyId28),c.__views.__alloyId29=Ti.UI.createView({height:"80%",width:"80%",backgroundColor:"#2D3442",layout:"vertical",id:"__alloyId29"}),c.__views.profileBasic.add(c.__views.__alloyId29),c.__views.username=Ti.UI.createLabel({color:"#fff",font:{fontSize:12},height:30,top:2,left:20,width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,layout:"vertical",id:"username"}),c.__views.__alloyId29.add(c.__views.username),c.__views.firstname=Ti.UI.createLabel({color:"#fff",font:{fontSize:12},height:30,top:2,left:20,width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,layout:"vertical",id:"firstname"}),c.__views.__alloyId29.add(c.__views.firstname),c.__views.lastname=Ti.UI.createLabel({color:"#fff",font:{fontSize:12},height:30,top:2,left:20,width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,layout:"vertical",id:"lastname"}),c.__views.__alloyId29.add(c.__views.lastname),c.__views.email=Ti.UI.createLabel({color:"#fff",font:{fontSize:12},height:30,top:2,left:20,width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,layout:"vertical",id:"email"}),c.__views.__alloyId29.add(c.__views.email),c.__views.userID=Ti.UI.createLabel({color:"#fff",font:{fontSize:12},height:30,top:2,left:20,width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,layout:"vertical",id:"userID"}),c.__views.__alloyId29.add(c.__views.userID),c.__views.profileVertical=Ti.UI.createView({top:"50%",width:Ti.UI.SIZE,height:"50%",layout:"vertical",id:"profileVertical"}),c.__views.profileContainer.add(c.__views.profileVertical),c.__views.profileSpecific=Ti.UI.createView({height:"50%",width:"100%",pd:"10",layout:"vertical",id:"profileSpecific"}),c.__views.profileVertical.add(c.__views.profileSpecific),c.__views.__alloyId30=Ti.UI.createView({height:"15%",width:Ti.UI.FILL,id:"__alloyId30"}),c.__views.profileSpecific.add(c.__views.__alloyId30),c.__views.__alloyId31=Ti.UI.createLabel({color:"#fff",height:25,font:{fontSize:16},shadowOffset:1,shadowColor:"#363636",width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Profile Specific Info",id:"__alloyId31"}),c.__views.__alloyId30.add(c.__views.__alloyId31),c.__views.specificProfile=Ti.UI.createView({height:"85%",width:"80%",id:"specificProfile"}),c.__views.profileSpecific.add(c.__views.specificProfile),c.__views.bioText=Ti.UI.createTableView({text:"white",height:Ti.UI.SIZE,width:"80%",left:0,backgroundColor:"#2D3442",id:"bioText"}),c.__views.specificProfile.add(c.__views.bioText),c.__views.profileClasses=Ti.UI.createView({height:"50%",width:"100%",pd:"10",layout:"vertical",id:"profileClasses"}),c.__views.profileVertical.add(c.__views.profileClasses),c.__views.__alloyId32=Ti.UI.createView({height:"15%",width:Ti.UI.FILL,id:"__alloyId32"}),c.__views.profileClasses.add(c.__views.__alloyId32),c.__views.__alloyId33=Ti.UI.createLabel({color:"#fff",height:25,font:{fontSize:16},shadowOffset:1,shadowColor:"#363636",width:Ti.UI.SIZE,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Classes",id:"__alloyId33"}),c.__views.__alloyId32.add(c.__views.__alloyId33),c.__views.__alloyId34=Ti.UI.createView({height:"80%",width:"80%",backgroundColor:"#2D3442",layout:"vertical",id:"__alloyId34"}),c.__views.profileClasses.add(c.__views.__alloyId34),c.__views.courseList=Ti.UI.createTableView({id:"courseList"}),c.__views.__alloyId34.add(c.__views.courseList),u.destroy=function(){},_.extend(c,c.__views),Alloy.Globals.response="";var d,h,p,f,w,v,g,m,y=require("ti.cloud");o(),a(),s(),l(),_.extend(c,u)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;