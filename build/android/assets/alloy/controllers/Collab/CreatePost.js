function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){s.Posts.create({content:i.content_text.value,title:i.title_text.value,custom_fields:{parentPost:"",childPost:"",createdBy:a}},function(e){if(e.success){var i=e.posts[0];alert("Success:\nid: "+i.id+"\ntitle: "+i.title+"\ncontent: "+i.content+"\nupdated_at: "+i.updated_at),t()}else alert("Error:\n"+(e.error&&e.message||JSON.stringify(e)))})}function t(){var e=Alloy.createController("win4").getView();e.open()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="Collab/CreatePost",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var i=this,r={},n={};i.__views.CreatePost=Ti.UI.createWindow({layout:"vertical",id:"CreatePost"}),i.__views.CreatePost&&i.addTopLevelView(i.__views.CreatePost),i.__views.title_text=Ti.UI.createTextField({color:"#fff",height:50,width:100,align:"center",backgroundColor:"#2D3442",paddingLeft:15,autocapitalize:!1,autocorrect:!1,borderWidth:0,id:"title_text"}),i.__views.CreatePost.add(i.__views.title_text),i.__views.content_text=Ti.UI.createTextField({color:"#fff",height:300,width:"80%",align:"center",backgroundColor:"#2D3442",paddingLeft:15,autocapitalize:!1,autocorrect:!1,borderWidth:0,id:"content_text"}),i.__views.CreatePost.add(i.__views.content_text);var o=[];i.__views.__alloyId45=Ti.UI.createTableViewRow({layout:"horizontal",align:"center",id:"__alloyId45"}),o.push(i.__views.__alloyId45),i.__views.postButton=Ti.UI.createButton({title:"Post",id:"postButton"}),i.__views.__alloyId45.add(i.__views.postButton),e?i.__views.postButton.addEventListener("click",e):n["$.__views.postButton!click!createPost"]=!0,i.__views.cancelButton=Ti.UI.createButton({title:"Cancel",id:"cancelButton"}),i.__views.__alloyId45.add(i.__views.cancelButton),t?i.__views.cancelButton.addEventListener("click",t):n["$.__views.cancelButton!click!closeWindow"]=!0,i.__views.__alloyId43=Ti.UI.createTableView({data:o,id:"__alloyId43"}),i.__views.CreatePost.add(i.__views.__alloyId43),r.destroy=function(){},_.extend(i,i.__views);var a,s=require("ti.cloud"),l=Ti.UI.createWindow({backgroundColor:"blue",exitOnClose:!0,fullscreen:!1,layout:"vertical",title:"Join the Team"});s.Users.showMe(function(e){if(e.success){var t=e.users[0];a=t.username}else alert("Error:\n"+(e.error&&e.message||JSON.stringify(e)))}),l.open({activityEnterAnimation:Ti.Android.R.anim.fade_in,activityExitAnimation:Ti.Android.R.anim.fade_out}),n["$.__views.postButton!click!createPost"]&&i.__views.postButton.addEventListener("click",e),n["$.__views.cancelButton!click!closeWindow"]&&i.__views.cancelButton.addEventListener("click",t),_.extend(i,r)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;