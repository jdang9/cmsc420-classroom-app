function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){a.Posts.query({where:{parentPost:s.postID}},function(e){if(e.success){e.posts[0];for(var t=e.posts.length-1;t>=0;t--){var r=e.posts[t],n=Ti.UI.createTableViewRow({textAlign:"center",top:5,bottom:5}),o=Ti.UI.createView({layout:"horizontal"}),s=Ti.UI.createLabel({text:"",height:"auto",width:"20%",padding:5}),a=Ti.UI.createLabel({text:r.content,height:"auto",width:"80%",padding:5});o.add(s),o.add(a),n.add(o),i.tableView1.appendRow(n)}}else alert("Error:\n"+(e.error&&e.message||JSON.stringify(e)))})}function t(){a.Posts.create({title:"",content:i.commentTextField.value,childPost:"",custom_fields:{parentPost:s.postID,childPost:""}},function(e){if(e.success){e.posts[0];var t=Alloy.createController("Collab/ViewPost",{postID:s.postID}).getView();t.open()}else alert("Error:\n"+(e.error&&e.message||JSON.stringify(e)))})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="Collab/ViewPost",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var i=this,r={},n={};i.__views.ViewPost=Ti.UI.createWindow({id:"ViewPost"}),i.__views.ViewPost&&i.addTopLevelView(i.__views.ViewPost),i.__views.view1=Ti.UI.createView({width:"100%",height:"70%",id:"view1"}),i.__views.ViewPost.add(i.__views.view1),i.__views.tableView1=Ti.UI.createTableView({height:"70%",width:"80%",top:"10%",layout:"vertical",align:"center",border:"2",borderColor:"white",id:"tableView1",scrollable:"true"}),i.__views.view1.add(i.__views.tableView1);var o=[];i.__views.tableView2=Ti.UI.createTableViewRow({id:"tableView2",layout:"vertical"}),o.push(i.__views.tableView2),i.__views.commentTextField=Ti.UI.createTextArea({height:100,width:"60%",hintText:"Add Comment Here",textAlign:"left",align:"center",borderColor:"white",borderWidth:2,id:"commentTextField"}),i.__views.tableView2.add(i.__views.commentTextField),i.__views.postComment=Ti.UI.createButton({title:"Post",id:"postComment"}),i.__views.tableView2.add(i.__views.postComment),t?i.__views.postComment.addEventListener("click",t):n["$.__views.postComment!click!postComment"]=!0,i.__views.__alloyId36=Ti.UI.createTableView({data:o,id:"__alloyId36"}),i.__views.ViewPost.add(i.__views.__alloyId36),r.destroy=function(){},_.extend(i,i.__views);var s=arguments[0]||{},a=require("ti.cloud");a.Posts.query({where:{id:s.postID}},function(t){if(t.success){var r=t.posts[0],n=Ti.UI.createTableViewRow({textAlign:"center"}),o=Ti.UI.createView({layout:"horizontal"}),s=Ti.UI.createLabel({text:r.title,height:"auto",width:"20%",padding:5}),a=Ti.UI.createLabel({text:r.content,height:"auto",width:"80%",padding:5});o.add(s),o.add(a),n.add(o),i.tableView1.appendRow(n),e()}else alert("Error:\n"+(t.error&&t.message||JSON.stringify(t)))}),n["$.__views.postComment!click!postComment"]&&i.__views.postComment.addEventListener("click",t),_.extend(i,r)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;