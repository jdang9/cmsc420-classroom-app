function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="signup",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={};t.destroy=function(){},_.extend(e,e.__views),require("ti.cloud.Server"),Titanium.UI.setBackgroundImage("shared/bkg_login.jpg");var i=Titanium.UI.createWindow(),r=Titanium.UI.createTextField({color:"#336699",top:200,left:50,width:300,height:40,hintText:"Username",keyboardType:Titanium.UI.KEYBOARD_DEFAULT,returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED});i.add(r);var n=Titanium.UI.createTextField({color:"#336699",top:250,left:50,width:300,height:40,hintText:"Password",passwordMask:!0,keyboardType:Titanium.UI.KEYBOARD_DEFAULT,returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED});i.add(n);var o=Titanium.UI.createButton({title:"Signup",top:300,width:90,height:35,borderRadius:1,font:{fontFamily:"Arial",fontWeight:"bold",fontSize:14}});i.add(o),o.addEventListener("click",function(){var e=Ti.Network.createHTTPClient({timeout:1e4});e.onload=function(){Titanium.API.log("onload");var t=JSON.parse(e.responseText);Titanium.API.log(t),Titanium.App.Properties.setString("loginID",t.id),i.close(),Alloy.createController("dashboard").getView()},e.onerror=function(){Titanium.API.log("error"),alert("I'm sorry, sign up was not successful"),Alloy.createController("index").getView()};var t={email:r.value,password:n.value,role:"student"};e.open("POST","http://localhost:8080/api/signup"),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(t))}),i.open(),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;